<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.LoteController"
            fitToWidth="true"
            style="-fx-background: #E3F2FD;">
    <content>
        <VBox alignment="TOP_CENTER"
              spacing="20"
              style="-fx-background-color: #E3F2FD;"
              prefWidth="750"
              maxWidth="Infinity">

            <padding>
                <Insets top="30" right="40" bottom="40" left="40"/>
            </padding>

            <!-- 🟦 Título -->
            <Label text="Gestión de Lotes"
                   style="-fx-font-size: 26; -fx-font-weight: bold; -fx-text-fill: #0D47A1;">
                <font>
                    <Font name="Arial" size="26"/>
                </font>
                <effect>
                    <DropShadow color="#90CAF9" radius="3"/>
                </effect>
            </Label>

            <!-- 🧭 Sección de selección de dependencias -->
            <TitledPane text="Seleccionar Relaciones (Llaves Foráneas)"
                        expanded="true"
                        collapsible="false"
                        style="-fx-font-weight: bold;">
                <VBox spacing="10" alignment="CENTER">
                    <Label text="Producto:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="productoComboBox" prefWidth="400" promptText="Seleccionar Producto"/>

                    <Label text="Pedido:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="pedidoComboBox" prefWidth="400" promptText="Seleccionar Pedido"/>
                </VBox>
            </TitledPane>

            <!-- 🧾 Detalles del Lote -->
            <TitledPane text="Detalles del Lote"
                        expanded="true"
                        collapsible="false">
                <VBox spacing="10" alignment="CENTER">
                    <Label text="Peso Total (kg):" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="pesoField" prefWidth="400" promptText="Ej: 150"/>

                    <Label text="Humedad (%):" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="humedadField" prefWidth="400" promptText="Ej: 12.5"/>

                    <Label text="Fermentación (%):" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="fermentacionField" prefWidth="400" promptText="Ej: 85"/>

                    <Label text="Fecha de Cosecha:" style="-fx-font-weight: bold;"/>
                    <DatePicker fx:id="cosechaPicker" prefWidth="400" promptText="Seleccionar fecha de cosecha"/>

                    <Label text="Fecha de Ingreso:" style="-fx-font-weight: bold;"/>
                    <DatePicker fx:id="ingresoPicker" prefWidth="400" promptText="Seleccionar fecha de ingreso"/>

                    <Label text="Estado del Lote:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="estadoCombo" prefWidth="400" promptText="Seleccionar Estado (activo/inactivo)"/>
                </VBox>
            </TitledPane>

            <!-- 📊 Tabla de Lotes -->
            <TitledPane text="Lotes Registrados"
                        expanded="true"
                        collapsible="false">
                <VBox spacing="10">
                    <TableView fx:id="loteTable" prefHeight="250" prefWidth="650">
                        <columns>
                            <TableColumn fx:id="idColumn" prefWidth="60" text="ID"/>
                            <TableColumn fx:id="productoColumn" prefWidth="100" text="Producto"/>
                            <TableColumn fx:id="pedidoColumn" prefWidth="100" text="Pedido"/>
                            <TableColumn fx:id="pesoColumn" prefWidth="100" text="Peso (kg)"/>
                            <TableColumn fx:id="humedadColumn" prefWidth="100" text="Humedad (%)"/>
                            <TableColumn fx:id="fermentacionColumn" prefWidth="120" text="Fermentación (%)"/>
                            <TableColumn fx:id="fechaCosechaColumn" prefWidth="130" text="Fecha Cosecha"/>
                            <TableColumn fx:id="fechaIngresoColumn" prefWidth="130" text="Fecha Ingreso"/>
                            <TableColumn fx:id="estadoColumn" prefWidth="100" text="Estado"/>
                        </columns>
                    </TableView>
                </VBox>
            </TitledPane>

            <!-- ⚙️ Botones -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="btnAdd" text="Agregar" styleClass="primary-button" prefWidth="150"/>
                <Button fx:id="btnUpdate" text="Actualizar" styleClass="info-button" prefWidth="150"/>
                <Button fx:id="btnDelete" text="Eliminar" styleClass="danger-button" prefWidth="150"/>
                <Button fx:id="btnFetch" text="Mostrar Todo" styleClass="neutral-button" prefWidth="150"/>
            </HBox>

        </VBox>
    </content>
</ScrollPane>
